<div class="container py-5" ng-cloak>
    <div class="profile-wrapper">

        <!-- Titel -->
        <h2 class="profile-title text-center mb-4">Mein Profil</h2>

        <!-- Profil-Formular -->
        <section class="card profile-card mb-5">
            <div class="card-body">
                <form novalidate ng-submit="saveProfile()" role="form">
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="vorname">Vorname</label>
                            <input id="vorname" type="text" class="form-control" ng-model="user.vorname"
                                placeholder="Dein Vorname" required>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="nachname">Nachname</label>
                            <input id="nachname" type="text" class="form-control" ng-model="user.nachname"
                                placeholder="Dein Nachname" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="geburtsdatum">Geburtsdatum</label>
                            <input id="geburtsdatum" type="date" class="form-control" ng-model="user.geburtsdatum"
                                required>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="versicherung">Versicherung</label>
                            <select id="versicherung" class="form-control" ng-model="user.versicherung" required>
                                <option value="" disabled>W√§hle Versicherung</option>
                                <option value="gesetzlich">Gesetzlich</option>
                                <option value="privat">Privat</option>
                            </select>
                        </div>
                    </div>
                    <div class="text-right mt-3">
                        <button type="submit" class="btn btn-save">Speichern</button>
                    </div>
                </form>
            </div>
        </section>

        <!-- √Ñrzte-Liste -->
        <section class="card doctor-list-card mb-5">
            <div class="card-body">
                <h3 class="doctor-list-title">√Ñrzte</h3>
                <div class="row">
                    <div class="col-12 text-center mb-3" ng-if="aerzte.length === 0">
                        <p class="text-muted">Noch keine √Ñrzte vorhanden.</p>
                    </div>

                    <div class="col-md-6 mb-4" ng-repeat="(idx, arzt) in aerzte">
                        <article class="card doctor-card h-100 position-relative">
                            <div class="card-body">

                                <div class="edit-buttons">
                                    <!-- Bearbeiten -->
                                    <button type="button" class="btn btn-sm btn-outline-secondary"
                                        ng-if="editIndex !== idx" ng-click="startEditInline(idx)"
                                        aria-label="Arzt bearbeiten">‚úé</button>

                                    <!-- L√∂schen -->
                                    <button type="button" class="btn btn-sm btn-outline-danger ml-1"
                                        ng-click="deleteDoctor(arzt.doctor_id, idx)"
                                        aria-label="Arzt l√∂schen">üóëÔ∏è</button>

                                    <!-- Speichern (Inline-Edit) -->
                                    <button type="button" class="btn btn-sm btn-success mr-1" ng-if="editIndex === idx"
                                        ng-click="saveEditInline()" aria-label="√Ñnderungen speichern">‚úì</button>

                                    <!-- Abbrechen (Inline-Edit) -->
                                    <button type="button" class="btn btn-sm btn-outline-secondary"
                                        ng-if="editIndex === idx" ng-click="cancelEditInline()"
                                        aria-label="Bearbeitung abbrechen">‚úï</button>
                                </div>


                                <p>
                                    <strong>Name:</strong>
                                    <span ng-if="editIndex !== idx">{{ arzt.name }}</span>
                                    <input ng-if="editIndex === idx" type="text"
                                        class="form-control form-control-sm inline-input" ng-model="editableArzt.name">
                                </p>

                                <p>
                                    <strong>Telefon:</strong>
                                    <span ng-if="editIndex !== idx">{{ arzt.telefon }}</span>
                                    <input ng-if="editIndex === idx" type="text"
                                        class="form-control form-control-sm inline-input"
                                        ng-model="editableArzt.telefon">
                                </p>

                                <p>
                                    <strong>√ñffnungszeiten:</strong>
                                    <span ng-if="editIndex !== idx">{{ arzt.oeffnungszeiten }}</span>
                                    <input ng-if="editIndex === idx" type="text"
                                        class="form-control form-control-sm inline-input"
                                        ng-model="editableArzt.oeffnungszeiten">
                                </p>

                                <p>
                                    <strong>Fachrichtung:</strong>
                                    <span ng-if="editIndex !== idx">{{ arzt.fachrichtung }}</span>
                                    <input ng-if="editIndex === idx" type="text"
                                        class="form-control form-control-sm inline-input"
                                        ng-model="editableArzt.fachrichtung">
                                </p>

                            </div>
                        </article>
                    </div>
                </div>
            </div>
        </section>

        <!-- Arzt hinzuf√ºgen Button -->
        <div class="text-center">
            <button class="btn btn-outline-primary btn-sm" ng-click="toggleForm()">
                <span ng-show="!showForm">+ Arzt hinzuf√ºgen</span>
                <span ng-show="showForm">‚Äì Abbrechen</span>
            </button>
        </div>

        <!-- Formular zum Hinzuf√ºgen -->
        <form class="form-row align-items-end mt-4" ng-show="showForm" ng-submit="addArzt()">
            <div class="form-group col-md-3">
                <input type="text" class="form-control" ng-model="neuerArzt.name" placeholder="Name" required>
            </div>
            <div class="form-group col-md-3">
                <input type="text" class="form-control" ng-model="neuerArzt.telefon" placeholder="Telefonnummer"
                    required>
            </div>
            <div class="form-group col-md-3">
                <input type="text" class="form-control" ng-model="neuerArzt.oeffnungszeiten"
                    placeholder="√ñffnungszeiten" required>
            </div>
            <div class="form-group col-md-2">
                <input type="text" class="form-control" ng-model="neuerArzt.fachrichtung" placeholder="Fachrichtung"
                    required>
            </div>
            <div class="form-group col-auto">
                <button type="submit" class="btn btn-save" aria-label="Neuen Arzt speichern">‚úì</button>
            </div>
        </form>

    </div>
</div>